<!DOCTYPE html>
<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/core-js/2.6.11/core.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.8.7/polyfill.js"></script>
    <script src="https://vega.github.io/vega/assets/promise.min.js"></script>
    <script src="https://vega.github.io/vega/assets/symbol.min.js"></script>
    <script src="https://vega.github.io/vega/assets/fetch.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@5/build-es5/vega.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4/build-es5/vega-lite.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6/build-es5/vega-embed.js"></script>
        <!--D3-->
        <script src="https://d3js.org/d3.v5.min.js"></script>

        <!--CSS-->
        <link rel="stylesheet" href="css/style.css">
</head>
<body>



  <div id="container">
    <h1>Visualization experimentations</h1>
    <p>This page and repo is going to focus on working with some additional approaches to visualizing with Vega-Lite. The more I build mini-apps, the more in-browser data manipulation I do, so it will be good to develop some additional approaches to ingesting, manipulating, and displaying the data. </p>

    <p>To start out with, here's Vega-Lite's basic bar chart from their documentation. Instead of storig the data in-line or referecing it as a URL, it uses <code>data.name</code> to reference a dataset called <code>myData</code>. Additional code in the vegaEmbed function binds <code>myData</code> to what could be an in-line array, but is instead an array stored as a variable, <code>dataStorage</code>.</p>
    
    <p>Basic bar chart</p>
    <div id="vis3" class="chartdest"></div>

    <hr>

    <h2>Useful techniques</h2>
    <li><a href="12-filter-from-single.html">Filtering a trend chart from a single file inside of Vega-Lite</a>: this version calculates back 90 days from present and lets you choose your time range.</li>

    <li><a href="6arquero.html">Arquero, named data source</a>: this ingests data with Arquero and injects the object as a named data source.</li>

    <li><a href="9arquero3-await.html">Importing via Arquero, using await/async</a></li>


    <li><a href="13-successful-named-source.html">Named data source and field calculation</a>: this version imports with Arquero, and binds a named data source at runtime - allowing you to store data in the browser as an object, manipulate it, and inject it into the chart. It also uses <code>parseFLoat()</code> to sum fields inside of Vega-Lite.</li>

    <li><a href="5brush.html">Using brush:</a> x-axis range selection on a companion chart</li>

    <li><a href="10arquero3-timeselect-2.html">Using an interactive time selection with number input</a></li>

    <p>Other items:</p>
    <ol>
      <li><a href="vconcat-and-layer.html">Vertical concatenation and layering within frames</a> - useful for epi curves. </li>
      <li><a href="1sortedbar.html">Sorted bar chart</a></li>
      <li><a href="2linearray.html">Line chart from array</a></li>
      <li><a href="3vconcat.html">Vertical concatenation</a></li>
      <li><a href="4vconcat2.html">Vertical concatenation with repeat and select</a></li>
      <li><a href="11-VL-to-Vega.html">Converting Vega-Lite spec to Vega spec</a></li>
    </ol>

    <hr>
    <p>Other things I want to try:</p>
    <ul>
      <li>Double-bounded time selection (a full range slider)</li>
      <li>Calculating totals after a selection</li>
      <li>Vega templates for common tools, with hover/highlight functionality</li>
      <li>Vega, highlight, vconcat, with mutual highlighting</li>
      <li>Vconcat a map and a sorted bar chart, with mutual highlighting</li>
    </ul>

    


  </div>



<script type="text/javascript">




var simple = {
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "description": "A simple bar chart with embedded data.",
  "data": {
    "name": "myData"
  },
  "mark": "bar",
  "encoding": {
    "x": {"field": "b", "type": "quantitative"},
    "y": {"field": "a", "type": "nominal"}
  }
}

var dataStorage = [
    {"a": "A", "b": 28},
      {"a": "B", "b": 55},
      {"a": "C", "b": 43},
      {"a": "D", "b": 91}
    ]



vegaEmbed('#vis3', simple).then(res =>
  res.view
    .insert('myData', dataStorage)
    .run()
);


</script>
</body>
</html>